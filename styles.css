:root {
  --bg:#060a12;
  --card:#0c1424;
  --accent:#2f80ff;
  --accent-grad:linear-gradient(90deg,#007bff,#0056d6);
  --hover:#1b2b4a;
  --text:#e7ecfa;
  --muted:#7e8ca9;
  --danger:#ff4d6d;
  --buy:#2ce074;
  --sell:#ff5666;
}

/* предотвращаем переполнение из-за padding/width */
*, *::before, *::after {
  box-sizing: border-box;
}

html,body{
  margin:0;padding:0;width:100%;height:100%;
  background:var(--bg);font-family:"Inter",system-ui,sans-serif;
  color:var(--text);display:flex;justify-content:center;align-items:stretch;
}
.app{
  width:100%;max-width:640px;flex:1;display:flex;flex-direction:column;
  padding:20px;min-height:100vh;
}

/* каждая страница - флекс-контейнер */
.page{flex:1;display:flex;flex-direction:column;min-height:0;}
.hidden{display:none!important;}

.app-header{
  text-align:center;
  font-size:28px;
  font-weight:900;
  letter-spacing:1px;
  color:#fff;
  margin-bottom:8px;
  text-transform:uppercase;
}

/* STEPPER */
.stepper{display:flex;justify-content:center;align-items:center;margin:12px 0 20px;}
.progress-bar{display:flex;justify-content:center;align-items:center;gap:40px;}
.step-item{display:flex;align-items:center;justify-content:center;}
.step-label{font-size:13px;font-weight:800;color:var(--muted);letter-spacing:0.8px;}
.step-item.active .step-label{color:var(--accent);}
.step-item.done .step-label{color:var(--accent);}

/* MENU */
.menu-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
  margin-top:10px;
}
.menu-card{
  background:var(--card);
  border:1px solid #1f2a4a;
  border-radius:8px;
  padding:18px;
  text-align:center;
  cursor:pointer;
  transition:all .15s;
}
.menu-card:hover{background:var(--hover);transform:scale(1.02);}
.menu-title{font-size:16px;font-weight:700;margin-bottom:4px;}
.menu-sub{font-size:12px;color:var(--muted);}

/* PAIRS */
.pairs-list{
  list-style:none;padding:0;margin:18px 0 0;
  display:flex;flex-direction:column;gap:10px;
}
.pair{
  display:flex;justify-content:space-between;align-items:center;
  font-weight:600;font-size:14px;color:var(--text);
  border-radius:6px;padding:12px 14px;cursor:pointer;
  border:1px solid #1f2a4a;background:#0c1424;transition:.15s;
}
.pair:hover{background:#14213a;}
.flag{width:20px;height:14px;border-radius:3px;display:inline-block;}
.pair .fire{color:var(--danger);font-size:12px;font-weight:600;}

/* PAIR/TIME */
.top-buttons{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:14px;
  margin-bottom:14px;
}
.sub-btn{
  flex:1;
  max-width:160px;
  height:54px;
  display:flex;
  align-items:center;
  justify-content:center;
  border:none;
  border-radius:6px;
  background:#101b32;
  color:#fff;
  font-weight:700;
  font-size:16px;
  cursor:pointer;
  border:1px solid #1f2a4a;
  transition:.2s;
  text-align:center;
}
.sub-btn.active{background:var(--accent-grad);border:none;}
.sub-btn:hover{background:#1b2b4a;}

.pairs-grid,.time-grid{
  display:grid;grid-template-columns:1fr 1fr;gap:12px;flex:1;margin-bottom:14px;
  min-height:0;
}
.pair-card,.time-card{
  background:var(--card);border:1px solid #1f2a4a;border-radius:6px;
  padding:16px;text-align:center;font-weight:700;cursor:pointer;transition:.2s;
}
.pair-card:hover,.time-card:hover{background:#14213a;}
.time-top{display:flex;justify-content:center;align-items:center;gap:4px;font-size:18px;}
.time-emoji{font-size:20px;}
.time-sub{margin-top:4px;font-size:12px;color:var(--muted);}

/* RECOMMEND */
.recommend-card{
  background:#0e1728;border:1px solid #1f2a4a;padding:14px;
  text-align:center;font-size:13px;color:var(--muted);margin:8px 0 16px;
}
.recommend-card b{color:var(--accent);}

/* BUTTONS */
.back-btn,.new-signal-btn{
  padding:14px;border:none;border-radius:6px;font-size:15px;font-weight:700;
  cursor:pointer;width:100%;
}
.back-btn{background:#101b32;color:#fff;border:1px solid #1f2a4a;}
.new-signal-btn{
  background:var(--accent-grad);color:#fff;box-shadow:0 0 10px rgba(47,128,255,.3);
  transition:.2s;
}
.new-signal-btn:hover{filter:brightness(1.1);}

/* ===== исправленная нижняя панель на вкладке SIGNAL ===== */
.bottom-bar {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 10px;
  width: 100%;
  max-width: 640px;       /* вся ширина приложения */
  align-self: center;
  padding: 0 20px;        /* совпадает с отступами .app */
  box-sizing: border-box;
}

/* FOOTER */
.footer{
  text-align:center;font-size:13px;color:var(--muted);
  padding:14px 0;margin-top:auto;
}
.footer span{color:var(--accent);font-weight:600;}

/* LOADER */
.center-block,.center-wrapper{
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;flex:1;
}
.loader{
  width:50px;height:50px;border-radius:50%;
  border:3px solid rgba(255,255,255,0.1);
  border-top:3px solid var(--accent);
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

/* SIGNAL: фиксированная вёрстка, без переполнения */
#signalPage{
  display:flex;
  flex-direction:column;
  min-height:100%;
  width:100%;
  max-width:640px;
  align-items:center;
  box-sizing:border-box;
}

#loadingSection,#signalResult{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  width:100%;
  max-width:420px;
  margin:0 auto;
  padding:0 16px;
  box-sizing:border-box;
  min-height:180px;
}

.signal-card{
  width:100%;
  max-width:420px;
  margin:0 auto;
  padding:24px;
  background:#101b32;
  border:1px solid #1f2a4a;
  border-radius:8px;
  display:flex;
  justify-content:center;
  align-items:center;
  box-sizing:border-box;
  overflow:hidden;
}

.signal-body{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:18px;
  flex-wrap:wrap;
  width:100%;
  min-height:64px;
}

.signal-arrow{
  font-size:56px;
  font-weight:900;
  line-height:1;
  flex:0 0 auto;
  display:inline-block;
}
.signal-action{
  font-size:32px;
  font-weight:900;
  flex:0 0 auto;
  white-space:nowrap;
  display:inline-block;
}

.signal-arrow.up,.signal-action.buy{color:var(--buy);}
.signal-arrow.down,.signal-action.sell{color:var(--sell);}

.signal-header-top{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  margin-bottom:16px;
  flex-wrap:wrap;
}
.signal-pair{
  font-size:22px;
  font-weight:800;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.signal-time{
  font-size:18px;
  color:var(--muted);
  font-weight:700;
  white-space:nowrap;
}

.indicators-block{
  width:100%;
  max-width:420px;
  text-align:center;
  margin-top:20px;
  box-sizing:border-box;
}
.indicators-block ul{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:8px;
}
.indicators-block li{
  background:#0c1424;
  border:1px solid #1f2a4a;
  border-radius:6px;
  padding:8px 12px;
  font-weight:600;
  font-size:13px;
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
