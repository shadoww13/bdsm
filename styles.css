:root {
  --bg:#0a1220;--card:#111a2b;--accent:#2f80ff;
  --accent-grad:linear-gradient(135deg,#2f80ff,#0066ff);
  --hover:#1d3f8e;--text:#e8f0ff;--muted:#a3b6d8;
  --danger:#ff4d6d;--glow:rgba(47,128,255,.45);
}

html,body{margin:0;padding:0;width:100%;min-height:100vh;background:var(--bg);font-family:"Inter",system-ui,sans-serif;color:var(--text);display:flex;justify-content:center;align-items:stretch;}
.app{width:100%;max-width:600px;flex:1;display:flex;flex-direction:column;padding:16px;box-sizing:border-box;}
.page{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh;}
.hidden{display:none!important;}
.app-title{text-align:center;font-size:clamp(22px,4vw,32px);font-weight:800;margin:0 0 16px;}
.menu-grid,.pairs-grid,.time-grid{display:grid;gap:16px;}
.menu-grid{grid-template-columns:1fr 1fr;}
.pairs-grid{grid-template-columns:1fr 1fr;flex:1;margin-bottom:16px;}
.time-grid{grid-template-columns:repeat(2,1fr);flex:1;}
.menu-card{background:var(--card);border-radius:12px;padding:16px;text-align:center;cursor:pointer;transition:all .2s;box-shadow:0 2px 6px rgba(0,0,0,.25);}
.menu-card:hover{background:var(--hover);transform:translateY(-2px);}
.menu-title{font-size:18px;font-weight:700;margin-bottom:6px;}
.menu-sub{font-size:13px;color:var(--muted);}
.pairs-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px;}
.pair{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:14px;color:var(--text);border-radius:10px;padding:12px 16px;cursor:pointer;border:1px solid #1f2747;box-shadow:0 2px 6px rgba(0,0,0,.25);transition:all .2s;}
.pair:hover{background:var(--hover);transform:translateY(-2px);}
.flag{width:20px;height:14px;border-radius:3px;display:inline-block;line-height:14px;text-align:center;}
.flag-icon{background-size:cover;background-position:center;}
.pair .fire{color:var(--danger);font-size:12px;font-weight:600;}
.stepper{display:flex;justify-content:center;align-items:center;margin:8px 0 16px;}
.progress-bar{display:flex;align-items:center;gap:12px;background:#1f2747;border-radius:16px;padding:6px 10px;box-shadow:0 2px 4px rgba(0,0,0,.3);}
.step-item{display:flex;align-items:center;}
.step-label{font-size:11px;font-weight:600;color:var(--muted);text-transform:uppercase;padding:4px 8px;transition:all .3s;}
.step-item.active .step-label,.step-item.done .step-label{color:var(--accent);font-weight:700;}
.page-title{font-size:20px;font-weight:700;color:var(--text);text-align:center;margin:16px 0;}
.top-buttons{display:flex;justify-content:space-between;margin-bottom:16px;gap:16px;}
.sub-btn{flex:1;padding:14px;border:none;border-radius:8px;background:var(--card);color:var(--text);font-weight:600;cursor:pointer;}
.sub-btn.active{background:var(--accent-grad);color:#fff;}
.sub-btn:hover{background:var(--hover);}
.pair-card{background:var(--card);border-radius:8px;padding:16px;text-align:center;font-weight:600;cursor:pointer;transition:background .2s;font-size:14px;}
.pair-card:hover{background:var(--hover);}
.time-card{background:var(--card);border:1px solid #222c45;border-radius:10px;padding:16px;color:var(--text);font-weight:600;cursor:pointer;text-align:center;transition:background .2s,transform .2s;display:flex;flex-direction:column;justify-content:center;}
.time-card:hover{background:var(--hover);transform:translateY(-2px);}
.time-top{display:flex;justify-content:center;align-items:center;gap:6px;font-size:20px;font-weight:700;}
.time-emoji{font-size:22px;}
.time-sub{margin-top:6px;font-size:13px;font-weight:400;color:var(--muted);}
.recommend-card{background:#141c2c;border:1px solid #222c45;padding:16px;margin:16px 0;text-align:center;font-size:14px;color:var(--muted);}
.recommend-card b{color:var(--accent);}
.back-btn,.new-signal-btn{padding:14px;border:none;border-radius:8px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;width:100%;}
.back-btn{background:var(--card);background:linear-gradient(180deg,rgba(46,123,246,.06),rgba(46,123,246,.02));border:1px solid rgba(46,123,246,.08);}
.new-signal-btn{background:var(--accent-grad);box-shadow:0 0 18px var(--glow);transition:all .25s;}
.new-signal-btn:hover{filter:brightness(1.05);box-shadow:0 0 26px rgba(47,128,255,.7);}
.bottom-bar{display:flex;flex-direction:column;gap:16px;margin-top:auto;}
.footer{text-align:center;font-size:14px;color:var(--muted);padding:16px 0;}
.footer span{color:var(--accent);font-weight:600;}
.center-block,.center-wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;flex:1;}
.loader{width:64px;height:64px;border-radius:50%;border:6px solid rgba(255,255,255,.06);border-top:6px solid var(--accent);animation:spin 1s linear infinite;box-shadow:0 6px 18px rgba(0,0,0,.5),0 0 14px rgba(46,123,246,.12) inset;}
@keyframes spin{to{transform:rotate(360deg);}}

/* --- SIGNAL PAGE FIXED HEIGHT MATCHING OTHER PAGES --- */
#signalPage {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 100vh;
  box-sizing: border-box;
}

#loadingSection,
#signalResult {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  flex: 1;
  width: 100%;
  padding: 0 24px;
  text-align: center;
  box-sizing: border-box;
}

.signal-card {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  padding: clamp(16px, 4vh, 32px);
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 6px 20px rgba(0,0,0,0.45);
  box-sizing: border-box;
  height: clamp(220px, 50vh, 460px);
  flex-shrink: 0;
}

.signal-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  height: 100%;
}

.signal-action-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
}

.signal-pair-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
}

.signal-arrow {
  font-size: clamp(60px, 12vh, 120px);
  font-weight: 900;
  line-height: 1;
}
.signal-arrow.up { color: #2CE074; }
.signal-arrow.down { color: #FF5666; }

.signal-action {
  font-size: clamp(34px, 7vh, 60px);
  font-weight: 900;
  margin-top: 6px;
}
.signal-action.buy { color: #2CE074; }
.signal-action.sell { color: #FF5666; }

.signal-pair {
  font-size: clamp(28px, 6vh, 50px);
  font-weight: 800;
  margin-bottom: 6px;
}
.signal-time {
  font-size: clamp(20px, 4vh, 30px);
  font-weight: 600;
  color: var(--muted);
}

.indicators-block {
  width: 100%;
  max-width: 580px;
  color: var(--muted);
  font-size: clamp(15px, 2vh, 17px);
  text-align: center;
  margin: clamp(12px, 2vh, 20px) auto;
  padding: 14px 10px;
  border-radius: 12px;
  background: none;
  box-shadow: none;
  flex-shrink: 0;
}

.indicators-block b {
  color: var(--text);
  display: block;
  margin-bottom: 10px;
  font-size: 17px;
}

.indicators-block ul {
  margin: 0 auto;
  padding: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}
.indicators-block li {
  text-align: center;
  margin: 0;
  line-height: 1.5;
}

@media (max-width: 620px) {
  .signal-card {
    height: clamp(200px, 50vh, 420px);
    padding: 20px;
  }
  .signal-arrow {
    font-size: clamp(50px, 10vh, 90px);
  }
  .signal-action {
    font-size: clamp(28px, 6vh, 48px);
  }
  .signal-pair {
    font-size: clamp(26px, 5.5vh, 40px);
  }
  .signal-time {
    font-size: clamp(18px, 3.8vh, 26px);
  }
}
